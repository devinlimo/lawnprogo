<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LocalProGo - Home Services Platform Demo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Visualization & Content Choices:
        - Homepage: Zip Code input. Goal: Entry to service exploration. Interaction: Zip Code input -> Explore Services view. Library/Method: Vanilla JS.
        - Explore Services - Provider Listing: Filters. Dynamic list of Provider items. Goal: Expedia-like browsing/comparison. Viz/Presentation: HTML/Tailwind list items. Provider images are descriptive placeholders. Interaction: Filters update list. Clicking provider item shows their specific price & populates booking. Library/Method: Vanilla JS.
        - Simulated Booking (Explore Services): Mock form. Goal: Show PII collection. Interaction: Triggered by provider selection. Library/Method: Vanilla JS.
        - For Providers Page: Mock Login form. Pricing Tiers table/cards. Goal: Show provider-facing aspects. Viz/Presentation: HTML/Tailwind. Interaction: Static display. Library/Method: HTML/Tailwind.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa; 
            color: #343a40; 
        }
        .accent-green { color: #28a745; }
        .accent-green-bg { background-color: #28a745; }
        .accent-green-bg-hover:hover { background-color: #218838; }
        .accent-blue { color: #007bff; }
        .accent-blue-bg { background-color: #007bff; }
        .accent-blue-bg-hover:hover { background-color: #0056b3; }
        
        .section {
            padding: 48px 24px; 
        }
        .card {
            background-color: white;
            border-radius: 12px;
            padding: 28px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.07);
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            display: flex;
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .button {
            padding: 12px 28px;
            border-radius: 8px;
            font-weight: 600;
            transition: background-color 0.2s ease, transform 0.1s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            text-align: center;
        }
        .button:active {
            transform: scale(0.97);
        }

        .button-primary {
            background-color: #28a745; 
            color: white;
        }
        .button-primary:hover {
            background-color: #218838;
        }
        .button-secondary {
            background-color: #007bff; 
            color: white;
        }
        .button-secondary:hover {
            background-color: #0056b3;
        }
        
        select, input[type="text"], input[type="email"], input[type="tel"], input[type="search"], input[type="password"] {
            border: 1px solid #ced4da; 
            padding: 12px 16px; 
            border-radius: 8px; 
            width: 100%;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
            font-size: 1rem;
        }
        select:focus, input:focus {
            outline: none;
            border-color: #28a745;
            box-shadow: 0 0 0 3px rgba(40, 167, 69, 0.25);
        }
        .view { display: none; }
        .view.active { display: block; animation: fadeIn 0.5s ease-out; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .hero-bg {
             background: linear-gradient(135deg, #e0f2f7 0%, #d1e7dd 100%); 
        }
        header nav a.active-nav {
            color: #28a745;
            font-weight: 600;
            border-bottom: 2px solid #28a745;
        }
        .star-rating span {
            color: #ffc107; /* Yellow for stars */
        }
        .provider-list-item {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
            transition: box-shadow 0.2s ease-in-out;
        }
        .provider-list-item:hover {
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        .pricing-tier-card {
            border: 1px solid #e2e8f0;
        }
        .pricing-tier-card.recommended {
            border-color: #28a745;
            border-width: 2px;
            box-shadow: 0 0 15px rgba(40, 167, 69, 0.2);
        }
        .provider-image-placeholder {
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #4A5568;
            font-size: 0.875rem;
            text-align: center;
            line-height: 1.2;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-sm sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#home" class="text-3xl font-bold site-title">
                <span class="accent-green">Local</span><span class="text-gray-800">Pro</span><span class="accent-green">Go</span>
            </a>
            <nav class="space-x-2">
                <a href="#home" class="nav-link text-gray-700 hover:accent-green px-3 py-2 rounded-md text-sm font-medium">Home</a>
                <a href="#exploreServices" class="nav-link text-gray-700 hover:accent-green px-3 py-2 rounded-md text-sm font-medium">Explore Services</a>
                <a href="#providers" class="nav-link text-gray-700 hover:accent-green px-3 py-2 rounded-md text-sm font-medium">For Providers</a>
            </nav>
        </div>
    </header>

    <main>
        <div id="homeView" class="view active">
            <section class="hero-bg py-24 md:py-36">
                <div class="container mx-auto px-6 text-center">
                    <h1 class="text-4xl sm:text-5xl md:text-6xl font-extrabold text-gray-800 mb-6 leading-tight">
                        Find Trusted Local Pros, <span class="accent-green">Fast</span>.
                    </h1>
                    <p class="text-lg md:text-xl text-gray-600 mb-10 max-w-3xl mx-auto">
                        Easily browse, compare, and book top-rated local professionals for lawn care, landscaping, and more with LocalProGo. Just enter your Zip Code to begin.
                    </p>
                    <form id="zipCodeForm" class="max-w-xl mx-auto flex flex-row gap-3 items-center">
                        <label for="zipCodeInput" class="sr-only">Enter Your Zip Code</label>
                        <input type="search" id="zipCodeInput" placeholder="Enter Your Zip Code (e.g., 75201)" class="flex-grow text-lg p-4 rounded-lg shadow-sm" required pattern="\d{5}" title="Enter a 5-digit Zip Code">
                        <button type="submit" class="button button-primary text-lg p-4 whitespace-nowrap">
                            <span class="mr-2">‚ûî</span>Find Services
                        </button>
                    </form>
                    <p id="zipError" class="text-red-600 text-sm mt-3 h-5 font-medium"></p> 
                </div>
            </section>

            <section id="howItWorks" class="section py-16 bg-white">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl font-bold text-center mb-16 text-gray-800">Getting Started with LocalProGo is Easy</h2>
                    <div class="grid md:grid-cols-3 gap-10 text-center">
                        <div class="flex flex-col items-center">
                            <div class="bg-green-100 text-green-600 rounded-full p-5 text-4xl mb-5 shadow-md">üìç</div>
                            <h3 class="text-2xl font-semibold mb-3">1. Enter Zip Code</h3>
                            <p class="text-gray-600 leading-relaxed">Tell us where you need service to instantly see available local professionals and transparent price estimates.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="bg-blue-100 text-blue-600 rounded-full p-5 text-4xl mb-5 shadow-md">üîç</div>
                            <h3 class="text-2xl font-semibold mb-3">2. Explore & Compare</h3>
                            <p class="text-gray-600 leading-relaxed">Browse services and providers, view detailed offerings, and compare price ranges without any commitment.</p>
                        </div>
                        <div class="flex flex-col items-center">
                            <div class="bg-purple-100 text-purple-600 rounded-full p-5 text-4xl mb-5 shadow-md">üìÖ</div>
                            <h3 class="text-2xl font-semibold mb-3">3. Book Securely</h3>
                            <p class="text-gray-600 leading-relaxed">Choose your preferred pro, select a convenient time, and confirm your service online with ease.</p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="serviceCategories" class="section py-16 bg-gray-50">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl font-bold text-center mb-16 text-gray-800">Popular Services near you</h2>
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                        <a href="#" data-service="mowing" class="category-link card items-center text-center hover:shadow-xl group">
                            <div class="text-5xl mb-4 transition-transform duration-300 group-hover:scale-110">üåø</div>
                            <h4 class="font-semibold text-xl">Lawn Mowing</h4>
                            <p class="text-sm text-gray-500 mt-1">Keep your lawn neat & tidy.</p>
                        </a>
                        <a href="#" data-service="mowingPlus" class="category-link card items-center text-center hover:shadow-xl group">
                             <div class="text-5xl mb-4 transition-transform duration-300 group-hover:scale-110">üå≥</div>
                            <h4 class="font-semibold text-xl">Landscaping</h4>
                            <p class="text-sm text-gray-500 mt-1">Design & maintain your dream yard.</p>
                        </a>
                        <a href="#" data-service="fertilization" class="category-link card items-center text-center hover:shadow-xl group">
                             <div class="text-5xl mb-4 transition-transform duration-300 group-hover:scale-110">‚ú®</div>
                            <h4 class="font-semibold text-xl">Fertilization</h4>
                            <p class="text-sm text-gray-500 mt-1">Nourish your lawn for health.</p>
                        </a>
                        <a href="#" data-service="weeding" class="category-link card items-center text-center hover:shadow-xl group">
                             <div class="text-5xl mb-4 transition-transform duration-300 group-hover:scale-110">üå±</div>
                            <h4 class="font-semibold text-xl">Weed Control</h4>
                            <p class="text-sm text-gray-500 mt-1">Keep unwanted plants away.</p>
                        </a>
                    </div>
                </div>
            </section>

            <section id="whyChooseUs" class="section py-16 bg-white">
                <div class="container mx-auto px-6">
                    <h2 class="text-3xl font-bold text-center mb-16 text-gray-800">The LocalProGo Advantage</h2>
                    <div class="grid md:grid-cols-3 gap-10">
                        <div class="card text-center">
                            <div class="text-3xl mb-4 accent-green">‚úîÔ∏è</div>
                            <h3 class="text-xl font-semibold mb-2">Vetted Local Professionals</h3>
                            <p class="text-gray-600 leading-relaxed">Connect with trusted, skilled, and insured professionals in your immediate community.</p>
                        </div>
                        <div class="card text-center">
                            <div class="text-3xl mb-4 accent-green">üí≤</div>
                            <h3 class="text-xl font-semibold mb-2">Transparent Upfront Pricing</h3>
                            <p class="text-gray-600 leading-relaxed">See estimated price ranges clearly before you commit or share any personal information.</p>
                        </div>
                        <div class="card text-center">
                            <div class="text-3xl mb-4 accent-green">üíª</div>
                            <h3 class="text-xl font-semibold mb-2">Easy Online Booking</h3>
                            <p class="text-gray-600 leading-relaxed">Schedule and manage all your home services conveniently from any device, anytime.</p>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div id="exploreServicesView" class="view">
            <section id="exploreServicesContent" class="section bg-gray-100">
                <div class="container mx-auto">
                    <div class="text-center mb-12">
                        <h2 class="text-4xl font-bold mb-4 text-gray-800">Explore Local Pros</h2>
                        <p id="exploreServicesIntro" class="text-lg text-gray-600 max-w-3xl mx-auto">
                            Showing available lawn care professionals for <strong id="exploreServicesZipDisplay" class="accent-green">your selected area</strong>. 
                            Use the filters to refine your search.
                        </p>
                    </div>

                    <div class="bg-white p-6 rounded-xl shadow-lg mb-10 sticky top-20 z-40">
                        <h3 class="text-xl font-semibold mb-4 text-gray-700">Filter Services & Providers</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                            <div>
                                <label for="filterServiceType" class="block text-sm font-medium text-gray-700 mb-1">Service Type:</label>
                                <select id="filterServiceType" class="mt-1 block w-full">
                                    <option value="all">All Lawn Services</option>
                                    <option value="mowing">Lawn Mowing (Basic)</option>
                                    <option value="mowingPlus">Landscaping (Mowing Plus)</option>
                                    <option value="fertilization">Fertilization</option>
                                    <option value="weeding">Weed Control</option>
                                </select>
                            </div>
                            <div>
                                <label for="filterYardSize" class="block text-sm font-medium text-gray-700 mb-1">Estimated YardSize:</label>
                                <select id="filterYardSize" class="mt-1 block w-full">
                                    <option value="any">Any Size</option>
                                    <option value="small">Small (under 3,000 sq ft)</option>
                                    <option value="medium">Medium (3,000 - 7,000 sq ft)</option>
                                    <option value="large">Large (7,000 - 10,000 sq ft)</option>
                                    <option value="xlarge">Extra Large (10,000+ sq ft)</option>
                                </select>
                            </div>
                            <div>
                                <label for="filterSortBy" class="block text-sm font-medium text-gray-700 mb-1">Sort By:</label>
                                <select id="filterSortBy" class="mt-1 block w-full">
                                    <option value="rating">Highest Rated</option>
                                    <option value="reviews">Most Reviews</option>
                                    <option value="name_asc">Name (A-Z)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div id="providerListingsContainer" class="space-y-6">
                        </div>
                    <p id="noProvidersMessage" class="text-center text-gray-500 py-10 hidden">No providers match your current filters. Try adjusting your search.</p>

                </div>
            </section>

            <section id="bookingDemoExplore" class="section hidden bg-white">
                <div class="container mx-auto text-center">
                    <h2 class="text-3xl font-bold mb-6 text-gray-800">Simulated Booking & Checkout</h2>
                    <p class="text-lg text-gray-600 mb-10 max-w-3xl mx-auto">
                        You're about to book with <strong id="bookingProviderName" class="accent-green"></strong>.
                        Please confirm the details below. This information is ONLY requested at the point of service confirmation.
                    </p>
                    <div class="card max-w-2xl mx-auto text-left">
                        <h3 class="text-2xl font-semibold mb-6 accent-blue">Confirm Your Service (Demo)</h3>
                        <p class="mb-2 text-md">Provider: <strong id="confirmProviderName" class="text-gray-700"></strong></p>
                        <p class="mb-2 text-md">Selected Service: <strong id="bookedServiceDisplayExplore" class="text-gray-700"></strong></p>
                        <p class="mb-2 text-md">Yard Size: <strong id="bookedYardSizeDisplayExplore" class="text-gray-700"></strong></p>
                        <p class="mb-6 text-xl">Estimated Price: <strong id="bookedPriceDisplayExplore" class="accent-green font-bold"></strong></p>
                        
                        <form id="bookingFormExplore" class="space-y-5">
                            <div>
                                <label for="addressExplore" class="block text-sm font-medium text-gray-700">Service Address:</label>
                                <input type="text" id="addressExplore" name="address" placeholder="123 Main St, Dallas, TX 75201" class="mt-1" readonly value="123 Demo St, Dallas, TX 75201">
                                <p class="text-xs text-gray-500 mt-1">GIS data might refine price based on actual lot size here.</p>
                            </div>
                            <div>
                                <label for="dateExplore" class="block text-sm font-medium text-gray-700">Preferred Date & Time:</label>
                                <input type="text" id="dateExplore" name="date" placeholder="Example: June 15th, 2025 - Morning" class="mt-1" readonly value="June 15th, 2025 - Morning Slot">
                            </div>
                            <div>
                                <label for="nameExplore" class="block text-sm font-medium text-gray-700">Full Name:</label>
                                <input type="text" id="nameExplore" name="name" placeholder="Your Full Name" class="mt-1" readonly value="Jane Doe (Demo)">
                            </div>
                            <div>
                                <label for="emailExplore" class="block text-sm font-medium text-gray-700">Email Address:</label>
                                <input type="email" id="emailExplore" name="email" placeholder="you@example.com" class="mt-1" readonly value="jane.doe@example.com">
                            </div>
                            <div>
                                <label for="phoneExplore" class="block text-sm font-medium text-gray-700">Phone Number:</label>
                                <input type="tel" id="phoneExplore" name="phone" placeholder="(555) 123-4567" class="mt-1" readonly value="(555) 123-4567">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700">Payment Information:</label>
                                <div class="mt-1 p-4 border border-gray-300 rounded-lg bg-gray-50 text-gray-500 italic">
                                    Secure Payment Gateway Integration (e.g., Stripe or Braintree) would appear here.
                                </div>
                            </div>
                            <div class="flex flex-col sm:flex-row items-center justify-between mt-8 gap-4">
                                <button type="button" class="button button-secondary w-full sm:w-auto">Create Account & Book (Demo)</button>
                                <button type="button" class="text-md accent-blue hover:underline font-medium">Checkout as Guest (Demo)</button>
                            </div>
                            <div id="bookingConfirmationExplore" class="mt-6 p-4 bg-green-100 border-l-4 border-green-500 text-green-700 rounded-md hidden">
                                <h4 class="font-bold text-lg">Booking Confirmed (Demo)!</h4>
                                <p>An email confirmation with your service details would be sent.</p>
                            </div>
                        </form>
                         <button id="showBookingConfirmationBtnExplore" class="button button-primary mt-6 w-full text-lg">Simulate Confirmation</button>
                    </div>
                </div>
            </section>
        </div>

        <div id="providersView" class="view">
            <section class="section bg-gray-50">
                <div class="container mx-auto">
                    <div class="text-center mb-16">
                        <h2 class="text-4xl font-bold mb-4 text-gray-800">Join LocalProGo as a Service Professional</h2>
                        <p class="text-lg text-gray-600 max-w-3xl mx-auto">
                            Grow your business by connecting with homeowners in your area looking for your expertise. We provide the tools and support you need to succeed.
                        </p>
                    </div>

                    <div class="grid md:grid-cols-2 gap-12 items-start">
                        <div class="card">
                            <h3 class="text-2xl font-semibold mb-6 text-center accent-blue">Provider Login</h3>
                            <form id="providerLoginForm" class="space-y-6">
                                <div>
                                    <label for="providerEmail" class="block text-sm font-medium text-gray-700">Email Address</label>
                                    <input type="email" id="providerEmail" name="providerEmail" required class="mt-1" placeholder="you@yourcompany.com">
                                </div>
                                <div>
                                    <label for="providerPassword" class="block text-sm font-medium text-gray-700">Password</label>
                                    <input type="password" id="providerPassword" name="providerPassword" required class="mt-1" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                                </div>
                                <div class="flex items-center justify-between">
                                    <a href="#" class="text-sm accent-blue hover:underline">Forgot password?</a>
                                </div>
                                <button type="submit" class="button button-primary w-full text-lg">Login to Provider Portal</button>
                                <p class="text-sm text-center text-gray-500 mt-4">
                                    Don't have an account? <a href="#provider-signup" class="font-medium accent-green hover:underline">Sign up here</a>
                                </p>
                            </form>
                        </div>

                        <div class="space-y-8">
                             <h3 class="text-2xl font-semibold mb-6 text-center text-gray-800">Our Partnership Plans</h3>
                            <div class="pricing-tier-card card">
                                <h4 class="text-xl font-semibold mb-2 accent-green">Basic Connect</h4>
                                <p class="text-3xl font-bold mb-1">$29<span class="text-sm font-normal text-gray-500">/month</span></p>
                                <p class="text-sm text-gray-600 mb-4">Get started and receive leads in your service area.</p>
                                <ul class="space-y-2 text-sm text-gray-700 mb-6">
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Profile listing</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Up to 10 leads per month</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Basic support</li>
                                </ul>
                                <button class="button button-primary w-full opacity-70 cursor-not-allowed" disabled>Choose Basic (Demo)</button>
                            </div>

                            <div class="pricing-tier-card card recommended">
                                <div class="absolute top-0 right-0 bg-green-500 text-white text-xs font-semibold px-3 py-1 rounded-bl-lg rounded-tr-lg">RECOMMENDED</div>
                                <h4 class="text-xl font-semibold mb-2 accent-green">Pro Growth</h4>
                                <p class="text-3xl font-bold mb-1">$59<span class="text-sm font-normal text-gray-500">/month</span></p>
                                <p class="text-sm text-gray-600 mb-4">Maximize your visibility and job opportunities.</p>
                                <ul class="space-y-2 text-sm text-gray-700 mb-6">
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Enhanced profile listing</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Up to 30 leads per month</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Priority support</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Featured placement in search results</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Basic analytics</li>
                                </ul>
                                <button class="button button-primary w-full">Choose Pro (Demo)</button>
                            </div>

                            <div class="pricing-tier-card card">
                                <h4 class="text-xl font-semibold mb-2 accent-green">Elite Partner</h4>
                                <p class="text-3xl font-bold mb-1">$99<span class="text-sm font-normal text-gray-500">/month</span></p>
                                <p class="text-sm text-gray-600 mb-4">For established businesses aiming for market leadership.</p>
                                <ul class="space-y-2 text-sm text-gray-700 mb-6">
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Premium profile with video option</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Unlimited leads (fair use)</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Dedicated account manager</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Top placement & advertising boosts</li>
                                    <li class="flex items-center"><span class="text-green-500 mr-2">‚úî</span> Advanced analytics & reporting</li>
                                </ul>
                                <button class="button button-primary w-full opacity-70 cursor-not-allowed" disabled>Choose Elite (Demo)</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <footer class="bg-gray-800 text-white text-center py-10">
        <div class="container mx-auto px-6">
            <p class="mb-3 text-lg">LocalProGo</p>
            <p class="mb-4 text-sm">&copy; <span id="currentYear"></span> LocalProGo Demo. All rights reserved.</p>
            <div class="space-x-4 text-sm">
                <a href="#privacy" class="text-gray-400 hover:text-white hover:underline">Privacy Policy</a>
                <span class="text-gray-500">|</span>
                <a href="#terms" class="text-gray-400 hover:text-white hover:underline">Terms of Service</a>
                <span class="text-gray-500">|</span>
                <a href="#contact" class="text-gray-400 hover:text-white hover:underline">Contact Us</a>
            </div>
            <p class="text-xs mt-6 text-gray-500">This is an interactive demonstration SPA based on the "Homepage_TechRequirements_v1" and "LawnGenius_TechRequirements_v1" documents.</p>
        </div>
    </footer>

    <script>
        const serviceData = {
            mowing: {
                description: "Basic lawn mowing includes professional cutting of grass, precise edging along concrete surfaces (sidewalks, driveways), and blowing clippings off hardscapes for a clean finish.",
                prices: { small: "$45-$60", medium: "$55-$75", large: "$70-$95", xlarge: "$90-$120" },
                name: "Lawn Mowing (Basic)"
            },
            mowingPlus: {
                description: "Plus Package includes basic mowing, edging, blowing, plus light trimming of bushes/shrubs immediately adjacent to the house foundation (up to 6ft height).",
                prices: { small: "$65-$85", medium: "$80-$105", large: "$100-$130", xlarge: "$125-$160" },
                name: "Landscaping (Mowing Plus)"
            },
            fertilization: {
                description: "Application of premium, season-appropriate fertilizer to promote healthy lawn growth and vibrant color. Tailored to Dallas, TX climate and soil conditions.",
                prices: { small: "$50-$70", medium: "$65-$90", large: "$85-$110", xlarge: "$100-$140" },
                name: "Fertilization"
            },
            weeding: {
                description: "Manual weeding of designated garden beds (up to specified square footage). Includes removal of common weeds. Does not include chemical treatments unless specified.",
                prices: { small: "$40-$55 (per hour/small bed)", medium: "$50-$70 (per hour/medium bed)", large: "$60-$85 (per hour/large bed)", xlarge: "$70-$95 (per hour/xl bed)" },
                name: "Weed Control (Garden Bed Weeding)"
            }
        };

        let mockProviders = [
            {
                id: 1,
                name: "GreenThumb Experts",
                rating: 4.8,
                reviewsCount: 150,
                imageUrl: "https://placehold.co/400x300/A3E6B4/333333?text=Lush+Green+Lawn",
                servicesOffered: ["mowing", "fertilization", "weeding", "mowingPlus"],
                basePriceModifier: 1.0, 
                bio: "Your local experts for a lush, healthy lawn. Serving Dallas for 10+ years with dedication and eco-friendly options.",
                availability: "Next available: Tomorrow"
            },
            {
                id: 2,
                name: "Precision Lawn Care Dallas",
                rating: 4.5,
                reviewsCount: 85,
                imageUrl: "https://placehold.co/400x300/9AE6B4/333333?text=Pro+Mowing+Service",
                servicesOffered: ["mowing", "mowingPlus"],
                basePriceModifier: 1.1, 
                bio: "Meticulous mowing and edging. We treat every lawn like our own, ensuring picture-perfect results every time.",
                availability: "Available from: Next Monday"
            },
            {
                id: 3,
                name: "Budget Cuts Lawn Service",
                rating: 4.2,
                reviewsCount: 210,
                imageUrl: "https://placehold.co/400x300/B3E6B4/333333?text=Friendly+Lawn+Team",
                servicesOffered: ["mowing"],
                basePriceModifier: 0.9, 
                bio: "Affordable and reliable lawn mowing services for the Dallas area. Quality work that doesn't break the bank.",
                availability: "Next available: In 2 days"
            },
            {
                id: 4,
                name: "Yard Masters Inc.",
                rating: 4.9,
                reviewsCount: 300,
                imageUrl: "https://placehold.co/400x300/87D3B4/333333?text=Beautiful+Landscaping",
                servicesOffered: ["mowing", "mowingPlus", "fertilization", "weeding"],
                basePriceModifier: 1.15,
                bio: "Premium lawn care and landscaping solutions. We transform yards into outdoor masterpieces.",
                availability: "Book 1 week in advance"
            },
            {
                id: 5,
                name: "Dallas Green Team",
                rating: 4.6,
                reviewsCount: 120,
                imageUrl: "https://placehold.co/400x300/C1E8D4/333333?text=Eco+Fertilizing",
                servicesOffered: ["mowing", "fertilization"],
                basePriceModifier: 0.95,
                bio: "Eco-conscious lawn fertilization and maintenance. We use sustainable practices for a healthier planet.",
                availability: "Next available: Wednesday"
            }
        ];

        // --- View Management ---
        const views = document.querySelectorAll('.view');
        const navLinks = document.querySelectorAll('.nav-link');
        const siteTitleLink = document.querySelector('.site-title');
        let currentZipCode = "Dallas, TX"; 
        let currentServiceSelection = "all"; 
        let currentYardSizeSelection = "any";
        let currentSortBy = "rating";

        function setActiveView(viewId, data = {}) {
            views.forEach(view => {
                view.classList.toggle('active', view.id === viewId);
            });
            
            navLinks.forEach(link => {
                link.classList.toggle('active-nav', link.getAttribute('href') === `#${viewId.replace('View','')}`);
            });

            if (viewId === 'exploreServicesView') {
                const exploreZipDisplay = document.getElementById('exploreServicesZipDisplay');
                if (data.zip && exploreZipDisplay) {
                    currentZipCode = data.zip;
                    exploreZipDisplay.textContent = `Zip Code ${currentZipCode}`;
                } else if (exploreZipDisplay) {
                    exploreZipDisplay.textContent = `Zip Code ${currentZipCode}`; 
                }
                
                const filterServiceType = document.getElementById('filterServiceType');
                if (data.service && filterServiceType) {
                    currentServiceSelection = data.service;
                    filterServiceType.value = currentServiceSelection;
                } else if (filterServiceType) {
                    filterServiceType.value = currentServiceSelection; 
                }
                
                const filterYardSize = document.getElementById('filterYardSize');
                if(filterYardSize) filterYardSize.value = currentYardSizeSelection;

                const filterSortBy = document.getElementById('filterSortBy');
                if(filterSortBy) filterSortBy.value = currentSortBy;
                
                renderProviders(); 
            }
            window.scrollTo(0, 0);
        }
        
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetViewId = e.target.getAttribute('href').substring(1) + "View";
                setActiveView(targetViewId);
                history.pushState({view: targetViewId, zip: currentZipCode, service: currentServiceSelection, yardSize: currentYardSizeSelection, sortBy: currentSortBy}, "", e.target.getAttribute('href'));
            });
        });

        if (siteTitleLink) {
            siteTitleLink.addEventListener('click', (e) => {
                e.preventDefault();
                setActiveView('homeView');
                history.pushState({view: 'homeView'}, "", "#home");
            });
        }
        
        window.addEventListener('popstate', (event) => {
            const targetView = (event.state && event.state.view) ? event.state.view : 'homeView';
            const data = event.state || {};
            if(data.zip) currentZipCode = data.zip;
            if(data.service) currentServiceSelection = data.service;
            if(data.yardSize) currentYardSizeSelection = data.yardSize;
            if(data.sortBy) currentSortBy = data.sortBy;
            setActiveView(targetView, data);
        });

        // --- Homepage Specific JS ---
        const zipCodeForm = document.getElementById('zipCodeForm');
        const zipCodeInput = document.getElementById('zipCodeInput');
        const zipError = document.getElementById('zipError');
        const categoryLinks = document.querySelectorAll('.category-link');

        if (zipCodeForm) {
            zipCodeForm.addEventListener('submit', function(event) {
                event.preventDefault();
                const zip = zipCodeInput.value.trim();
                zipError.textContent = ''; 
                if (/^\d{5}$/.test(zip)) {
                    currentZipCode = zip;
                    const preselectedService = this.dataset.preselectedService || "all";
                    delete this.dataset.preselectedService;

                    setActiveView('exploreServicesView', { zip: currentZipCode, service: preselectedService });
                    history.pushState({view: 'exploreServicesView', zip: currentZipCode, service: preselectedService, yardSize: currentYardSizeSelection, sortBy: currentSortBy}, "", "#exploreServices");
                } else {
                    zipError.textContent = 'Please enter a valid 5-digit Zip Code.';
                }
            });
        }
        
        categoryLinks.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const service = this.dataset.service;
                currentServiceSelection = service;
                const currentZip = zipCodeInput.value.trim();

                if (currentZip && /^\d{5}$/.test(currentZip)) {
                    currentZipCode = currentZip;
                    setActiveView('exploreServicesView', { zip: currentZipCode, service: currentServiceSelection });
                    history.pushState({view: 'exploreServicesView', zip: currentZipCode, service: currentServiceSelection, yardSize: currentYardSizeSelection, sortBy: currentSortBy}, "", "#exploreServices");
                } else { 
                    zipCodeInput.focus();
                    zipError.textContent = 'Please enter your Zip Code to see services.';
                    if(zipCodeForm) zipCodeForm.dataset.preselectedService = service;
                }
            });
        });

        // --- Explore Services View Specific JS ---
        const filterServiceTypeSelect = document.getElementById('filterServiceType');
        const filterYardSizeSelect = document.getElementById('filterYardSize');
        const filterSortBySelect = document.getElementById('filterSortBy');
        const providerListingsContainer = document.getElementById('providerListingsContainer');
        const noProvidersMessage = document.getElementById('noProvidersMessage');
        
        const bookingDemoExploreSection = document.getElementById('bookingDemoExplore');
        const bookedServiceDisplayExplore = document.getElementById('bookedServiceDisplayExplore');
        const bookedYardSizeDisplayExplore = document.getElementById('bookedYardSizeDisplayExplore');
        const bookedPriceDisplayExplore = document.getElementById('bookedPriceDisplayExplore');
        const showBookingConfirmationBtnExplore = document.getElementById('showBookingConfirmationBtnExplore');
        const bookingConfirmationExploreDiv = document.getElementById('bookingConfirmationExplore');
        const confirmProviderNameEl = document.getElementById('confirmProviderName');
        const bookingProviderNameEl = document.getElementById('bookingProviderName');

        function calculateProviderPriceRange(provider, serviceKey, yardSizeKey) {
            if (!serviceData[serviceKey]) return "Service N/A";
            const service = serviceData[serviceKey];
            let priceString = service.prices[yardSizeKey] || "N/A for this size";

            if (priceString !== "N/A for this size" && priceString.includes('-')) {
                const parts = priceString.replace(/\$/g, '').split('-');
                const minPrice = parseFloat(parts[0]) * provider.basePriceModifier;
                const maxPrice = parseFloat(parts[1]) * provider.basePriceModifier;
                return `$${minPrice.toFixed(0)}-$${maxPrice.toFixed(0)}`;
            } else if (priceString !== "N/A for this size") {
                 const singlePrice = parseFloat(priceString.replace(/\$/g, '').split(' ')[0]) * provider.basePriceModifier;
                 return `$${singlePrice.toFixed(0)} ${priceString.split(' ').slice(1).join(' ')}`;
            }
            return priceString;
        }

        function renderProviders() {
            if (!providerListingsContainer) return;
            providerListingsContainer.innerHTML = ''; 

            let filteredProviders = mockProviders.filter(provider => {
                if (currentServiceSelection === 'all') return true;
                return provider.servicesOffered.includes(currentServiceSelection);
            });

            if (currentSortBy === 'rating') {
                filteredProviders.sort((a, b) => b.rating - a.rating);
            } else if (currentSortBy === 'reviews') {
                filteredProviders.sort((a, b) => b.reviewsCount - a.reviewsCount);
            } else if (currentSortBy === 'name_asc') {
                filteredProviders.sort((a, b) => a.name.localeCompare(b.name));
            }

            if (filteredProviders.length === 0) {
                if(noProvidersMessage) noProvidersMessage.classList.remove('hidden');
            } else {
                 if(noProvidersMessage) noProvidersMessage.classList.add('hidden');
            }

            filteredProviders.forEach(provider => {
                const listItem = document.createElement('div');
                listItem.className = 'provider-list-item p-6 flex flex-col sm:flex-row gap-6 items-start'; 
                listItem.id = `provider-item-${provider.id}`;
                
                const effectiveServiceKey = currentServiceSelection === 'all' ? provider.servicesOffered[0] : currentServiceSelection;
                const effectiveYardSizeKey = currentYardSizeSelection === 'any' ? 'medium' : currentYardSizeSelection;
                const displayPriceRange = calculateProviderPriceRange(provider, effectiveServiceKey, effectiveYardSizeKey);

                let specialtiesHTML = provider.servicesOffered.map(serviceKey => {
                    const serviceDetail = serviceData[serviceKey];
                    return `<span class="text-xs bg-gray-200 text-gray-700 px-2 py-1 rounded-full mr-1 mb-1 inline-block">${serviceDetail ? serviceDetail.name.split('(')[0].trim() : serviceKey}</span>`;
                }).join('');
                
                const imageHTML = `<img src="${provider.imageUrl}" alt="${provider.name}" class="w-full sm:w-40 h-40 object-cover rounded-lg shadow-md flex-shrink-0" onerror="this.onerror=null;this.src='https://placehold.co/400x300/FEE2E2/B91C1C?text=Image+Error';this.classList.add('provider-image-placeholder');this.style.backgroundColor='#FEE2E2'; this.style.color='#B91C1C';">`;

                listItem.innerHTML = `
                    ${imageHTML}
                    <div class="flex-grow">
                        <h4 class="text-2xl font-semibold mb-1 text-gray-800">${provider.name}</h4>
                        <div class="star-rating text-sm text-gray-600 mb-2 flex items-center">
                            <span>${'‚òÖ'.repeat(Math.floor(provider.rating))}${'‚òÜ'.repeat(5 - Math.floor(provider.rating))}</span>
                            <span class="ml-2">${provider.rating.toFixed(1)} (${provider.reviewsCount} reviews)</span>
                        </div>
                        <p class="text-sm text-gray-600 mb-3">${provider.bio}</p>
                        <div class="mb-3">
                            <strong class="text-xs text-gray-500 uppercase">Specialties:</strong>
                            <div class="mt-1">${specialtiesHTML}</div>
                        </div>
                        <div class="mb-3">
                             <strong class="text-xs text-gray-500 uppercase">Availability:</strong>
                             <p class="text-sm text-gray-700">${provider.availability}</p>
                        </div>
                         <div class="mb-4">
                             <strong class="text-xs text-gray-500 uppercase">Est. Price for Selected Service:</strong>
                             <p class="text-xl font-bold accent-green">${displayPriceRange}</p>
                             <p class="text-xs text-gray-500">(for ${serviceData[effectiveServiceKey] ? serviceData[effectiveServiceKey].name : 'selected service'} / ${effectiveYardSizeKey} yard)</p>
                        </div>
                        <button data-provider-id="${provider.id}" data-service-key="${effectiveServiceKey}" data-yard-size-key="${effectiveYardSizeKey}" data-price-string="${displayPriceRange}" class="proceed-to-book-provider-btn button button-primary w-full sm:w-auto text-sm">View Details & Book</button>
                    </div>
                `;
                providerListingsContainer.appendChild(listItem);
            });

            document.querySelectorAll('.proceed-to-book-provider-btn').forEach(button => {
                button.addEventListener('click', handleProceedToBookFromProvider);
            });
        }
        
        function handleProceedToBookFromProvider(event) {
            const button = event.currentTarget; 
            const providerId = parseInt(button.dataset.providerId);
            const serviceKey = button.dataset.serviceKey;
            const yardSizeKey = button.dataset.yardSizeKey;
            const priceString = button.dataset.priceString;

            const provider = mockProviders.find(p => p.id === providerId);
            const service = serviceData[serviceKey];
            const yardSizeText = Array.from(document.getElementById('filterYardSize').options).find(opt => opt.value === yardSizeKey)?.text || yardSizeKey;

            if (provider && service && bookingDemoExploreSection) {
                if(confirmProviderNameEl) confirmProviderNameEl.textContent = provider.name;
                if(bookingProviderNameEl) bookingProviderNameEl.textContent = provider.name;
                if(bookedServiceDisplayExplore) bookedServiceDisplayExplore.textContent = service.name;
                if(bookedYardSizeDisplayExplore) bookedYardSizeDisplayExplore.textContent = yardSizeText;
                if(bookedPriceDisplayExplore) bookedPriceDisplayExplore.textContent = priceString;
                
                bookingDemoExploreSection.classList.remove('hidden');
                bookingDemoExploreSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                if(bookingConfirmationExploreDiv) bookingConfirmationExploreDiv.classList.add('hidden');
            }
        }

        if (filterServiceTypeSelect) filterServiceTypeSelect.addEventListener('change', (e) => { currentServiceSelection = e.target.value; renderProviders(); });
        if (filterYardSizeSelect) filterYardSizeSelect.addEventListener('change', (e) => { currentYardSizeSelection = e.target.value; renderProviders(); });
        if (filterSortBySelect) filterSortBySelect.addEventListener('change', (e) => { currentSortBy = e.target.value; renderProviders(); });
        
        if (showBookingConfirmationBtnExplore) {
            showBookingConfirmationBtnExplore.addEventListener('click', () => {
                 if(bookingConfirmationExploreDiv) bookingConfirmationExploreDiv.classList.remove('hidden');
            });
        }
        
        const providerLoginForm = document.getElementById('providerLoginForm');
        if (providerLoginForm) {
            providerLoginForm.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Provider login attempt (demo). In a real app, this would authenticate.');
            });
        }
        
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        document.addEventListener('DOMContentLoaded', () => {
            const initialHash = window.location.hash.substring(1); 
            let initialViewId = 'homeView';
            let initialData = {};

            if (initialHash === 'exploreServices') {
                initialViewId = 'exploreServicesView';
                if (history.state && history.state.zip) initialData.zip = history.state.zip;
                if (history.state && history.state.service) initialData.service = history.state.service;
                if (history.state && history.state.yardSize) currentYardSizeSelection = history.state.yardSize;
                if (history.state && history.state.sortBy) currentSortBy = history.state.sortBy;
            } else if (initialHash === 'providers') {
                initialViewId = 'providersView';
            }
            else {
                 history.replaceState({view: 'homeView'}, "", "#home");
            }
            setActiveView(initialViewId, initialData);
        });

    </script>
</body>
</html>
